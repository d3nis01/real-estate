<header class="header-container">
  <div class="header-left-side">
    <!-- Menu Button (Visible under 992px) -->
    <button
      class="menu-button lg:hidden"
      mat-icon-button
      [matMenuTriggerFor]="mobileMenu"
      aria-label="Mobile Menu"
    >
      <mat-icon>menu</mat-icon>
    </button>
    <mat-menu #mobileMenu="matMenu">
      <!-- Include dynamic menu options -->
      <button mat-menu-item (click)="goToHome()">Home</button>
      <button mat-menu-item (click)="goToLandingPage()">Landing Page</button>
      <button mat-menu-item (click)="goToCards()">Cards</button>
      <button mat-menu-item (click)="goToPredictPrice()">Predict Price</button>
      <button mat-menu-item [matMenuTriggerFor]="companiesMenu">
        Companies
      </button>
      <button mat-menu-item [matMenuTriggerFor]="offersMenu">Offers</button>
      <button mat-menu-item [matMenuTriggerFor]="listingsMenu">Listings</button>
    </mat-menu>

    <!-- Logo (Visible always) -->
    <div class="flex items-center gap-2">
      <div class="header-logo">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
        >
          <g clip-path="url(#clip0_601_2435)">
            <path
              d="M25.3333 11.6133L18.2226 6.08264C17.5986 5.59719 16.8306 5.33362 16.04 5.33362C15.2494 5.33362 14.4813 5.59719 13.8573 6.08264L6.74529 11.6133C6.31788 11.9457 5.97208 12.3713 5.7343 12.8578C5.49651 13.3442 5.37304 13.8785 5.37329 14.42V24.02C5.37329 24.7272 5.65424 25.4055 6.15434 25.9056C6.65444 26.4057 7.33271 26.6866 8.03996 26.6866H24.04C24.7472 26.6866 25.4255 26.4057 25.9256 25.9056C26.4257 25.4055 26.7066 24.7272 26.7066 24.02V14.42C26.7066 13.3226 26.2 12.2866 25.3333 11.6133Z"
              fill="#7065F0"
              stroke="#7065F0"
              stroke-width="3"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M21.3334 20C18.3867 21.7773 13.6107 21.7773 10.6667 20"
              stroke="#F9FAFB"
              stroke-width="3"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </g>
          <defs>
            <clipPath id="clip0_601_2435">
              <rect width="32" height="32" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </div>
      <div class="header-title">Estatery</div>
    </div>
  </div>

  <!-- Rest of the Header -->
  <div class="header-center lg:flex hidden">
    <!-- Full menu options (Visible only when screen width is >= 992px) -->
    <div class="header-center-element">
      <button mat-button (click)="goToHome()">Home</button>
    </div>
    <div class="header-center-element">
      <button mat-button (click)="goToLandingPage()">Landing Page</button>
    </div>
    <div class="header-center-element">
      <button mat-button (click)="goToCards()">Cards</button>
    </div>
    <div class="header-center-element">
      <button mat-button (click)="goToPredictPrice()">Predict Price</button>
    </div>
    <button mat-button [matMenuTriggerFor]="companiesMenu">Companies</button>
    <mat-menu #companiesMenu="matMenu">
      <button mat-menu-item (click)="goToCreateCompany()">Your company</button>
      <button mat-menu-item (click)="goToGetAllCompanies()">
        View all companies
      </button>
    </mat-menu>
    <button mat-button [matMenuTriggerFor]="offersMenu">Offers</button>
    <mat-menu #offersMenu="matMenu">
      <button mat-menu-item (click)="goToCreateOffer()">
        Create a new offer
      </button>
      <button mat-menu-item (click)="goToGetAllOffers()">
        View all offers
      </button>
    </mat-menu>
    <button mat-button [matMenuTriggerFor]="listingsMenu">Listings</button>
    <mat-menu #listingsMenu="matMenu">
      <button mat-menu-item (click)="goToCreateListing()">
        Create a new listing
      </button>
      <button mat-menu-item (click)="goToGetAllListings()">
        View all listings
      </button>
      <button mat-menu-item (click)="goToUserListings()">
        View your listings
      </button>
    </mat-menu>
  </div>

  <!-- Right side -->
  <div class="header-right-side">
    <!-- Login/Register or User Info -->
    <ng-container *ngIf="isLoggedIn; else guestButtons">
      <div class="header-user-info">
        <span>Welcome, {{ username }}</span>
        <button class="logout-button" (click)="logout()" aria-label="Logout">
          Logout
        </button>
      </div>
    </ng-container>
    <ng-template #guestButtons>
      <div class="header-buttons">
        <button class="register-button" (click)="goToRegister()">
          Register
        </button>
        <button class="login-button" (click)="goToLogin()">Login</button>
      </div>
    </ng-template>
  </div>
</header>
